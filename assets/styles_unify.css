/* ==========================================================================
   virtauto — styles_unify.css 
   Goal: unify visuals + FIX mobile navigation (iOS tap + burger + dropdown)
   Works with existing markup:
     header.header
     .container.nav
     nav.menu#menu
     button.burger > span*3
     a.brand
   ========================================================================== */

/* 0) Reset */
*, *::before, *::after { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
body {
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}
img, picture, svg, video { display: block; max-width: 100%; }
input, button, textarea, select { font: inherit; }
:target { scroll-margin-top: 6rem; }

/* 1) Tokens */
:root{
  --va-bg: #0A0F1C;
  --va-bg-elev: #111827;
  --va-surface: #0f172a;
  --va-text: #E5E7EB;
  --va-text-dim: #C7D2FE;
  --va-muted: #94A3B8;

  --va-primary: #00AEEF;
  --va-primary-600: #0891B2;
  --va-primary-300: #38BDF8;
  --va-accent: #22d3ee;

  --va-border: #233044;

  --va-radius: 16px;
  --va-shadow-sm: 0 4px 16px rgba(0,0,0,.25);
  --va-shadow-md: 0 8px 28px rgba(0,0,0,.35);
  --va-shadow-inset: inset 0 1px 0 rgba(255,255,255,.04);

  --va-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";

  --va-h1: clamp(2.0rem, 1.5rem + 2.2vw, 3.2rem);
  --va-h2: clamp(1.5rem, 1.2rem + 1.2vw, 2.2rem);
  --va-h3: clamp(1.25rem, 1.05rem + .8vw, 1.6rem);
  --va-body: clamp(1rem, .96rem + .2vw, 1.075rem);

  --va-1: .25rem;
  --va-2: .5rem;
  --va-3: .75rem;
  --va-4: 1rem;
  --va-5: 1.25rem;
  --va-6: 1.5rem;
  --va-8: 2rem;
  --va-10: 2.5rem;
  --va-12: 3rem;
  --va-16: 4rem;
  --va-24: 6rem;

  --va-container: 1200px;
}

/* 2) Base */
body{
  background:
    radial-gradient(1200px 600px at 20% -5%, rgba(34,211,238,.06) 0%, rgba(34,211,238,0) 60%),
    radial-gradient(800px 400px at 100% 0%, rgba(0,174,239,.08) 0%, rgba(0,174,239,0) 70%),
    var(--va-bg);
  color: var(--va-text);
  font-family: var(--va-font-sans);
  font-size: var(--va-body);
}
a{ color: var(--va-primary-300); text-decoration: none; }
a:hover{ text-decoration: underline; }

h1,h2,h3,h4{ line-height: 1.2; font-weight: 700; margin: 0 0 var(--va-4); }
h1{ font-size: var(--va-h1); letter-spacing: -0.01em; }
h2{ font-size: var(--va-h2); letter-spacing: -0.005em; }
h3{ font-size: var(--va-h3); }
p { margin: 0 0 var(--va-4); }

:focus-visible{
  outline: 3px solid var(--va-primary-300);
  outline-offset: 3px;
  border-radius: 6px;
}

/* 3) Layout primitives */
.container{ max-width: var(--va-container); margin: 0 auto; padding: 0 var(--va-4); }
.section{ padding: var(--va-16) 0; }

.card{
  background: linear-gradient(180deg, var(--va-surface), #0b1325);
  border: 1px solid var(--va-border);
  border-radius: var(--va-radius);
  box-shadow: var(--va-shadow-sm), var(--va-shadow-inset);
  padding: var(--va-6);
}

/* 4) HERO + common helpers (non-breaking) */
.hero{
  padding: var(--va-16) 0 var(--va-12);
  display: grid;
  gap: var(--va-8);
  grid-template-columns: 1.2fr .8fr;
  align-items: center;
}
.kicker{ color: var(--va-primary-300); text-transform: uppercase; letter-spacing: .12em; font-weight: 700; }
.badge{
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  padding: .35rem .6rem;
  border-radius: 999px;
  background: rgba(56,189,248,.12);
  color: var(--va-primary-300);
  border: 1px solid rgba(56,189,248,.3);
}

/* 5) Buttons */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .85rem 1.1rem;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.08);
  color: #0b1325;
  background: linear-gradient(180deg, var(--va-primary), var(--va-primary-600));
  box-shadow: 0 6px 20px rgba(0,174,239,.28);
  font-weight: 600;
}
.btn.ghost, .btn--ghost{
  background: transparent;
  color: var(--va-text);
  border-color: var(--va-border);
}
.btn.ghost:hover, .btn--ghost:hover{
  background: rgba(56,189,248,.08);
  border-color: rgba(56,189,248,.3);
}

/* ==========================================================================
   6) NAVIGATION — COMPATIBILITY + MOBILE FIX
   Markup:
     <header class="header">
       <div class="container nav">
         <a class="brand"...>
         <nav class="menu" id="menu">...</nav>
         <div id="agent-chips"...></div>
         <button class="burger"><span></span><span></span><span></span></button>
       </div>
     </header>
   ========================================================================== */

/* Header base (works desktop + mobile) */
header.header{
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: saturate(1.05) blur(6px);
  background: rgba(10,15,28,.78);
  border-bottom: 1px solid var(--va-border);
  pointer-events: auto;
}

/* Container row */
.container.nav{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--va-6);
  padding: var(--va-4) 0;
  position: relative;
}

/* Brand */
.brand{
  display: flex;
  align-items: center;
  gap: .5rem;
  font-weight: 700;
  color: #fff;
}

/* Desktop menu */
.menu{
  display: flex;
  align-items: center;
  gap: var(--va-4);
}
.menu a{
  padding: .5rem .75rem;
  border-radius: 12px;
  transition: background .15s ease;
}
.menu a:hover{ background: rgba(56,189,248,.08); }
.menu a.active{
  background: rgba(56,189,248,.12);
  border: 1px solid rgba(56,189,248,.28);
}

/* Burger default hidden on desktop */
.burger{
  display: none;
  -webkit-tap-highlight-color: transparent;
}

/* IMPORTANT: Do NOT create pseudo-lines. We already have 3 spans in HTML. */
.burger span::before,
.burger span::after{
  content: none !important;
}

/* ==========================================================================
   MOBILE (<= 992px)
   - show burger
   - stack menu under header row
   - menu closed by default, open when .open class exists
   ========================================================================== */
@media (max-width: 992px){

  /* allow next row under the first row */
  .container.nav{
    flex-wrap: wrap;
    align-items: center;
  }

  /* avoid overlays stealing taps */
  #agent-chips{
    display: none !important;
    pointer-events: none !important;
  }

  /* Burger visible and clickable */
  .burger{
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 10px;
    border: 1px solid var(--va-border);
    background: rgba(56,189,248,.10);
    cursor: pointer;
    pointer-events: auto;
    z-index: 200;
  }

  /* Render the 3 spans as the 3 burger lines */
  .burger span{
    display: block;
    width: 22px;
    height: 2px;
    background: #fff;
    border-radius: 2px;
  }
  .burger span + span{ margin-top: 5px; }

  /* Menu becomes a full-width row under header */
  #menu.menu{
    order: 10;               /* push below */
    width: 100%;
    display: none !important; /* closed by default */
    flex-direction: column;
    gap: .25rem;
    margin-top: .75rem;
    padding: .75rem 0;
    background: rgba(10,15,28,.92);
    border-top: 1px solid var(--va-border);
    border-radius: 14px;
  }

  /* Open-state (JS toggles .open on #menu) */
  #menu.menu.open{
    display: flex !important;
  }

  #menu.menu a{
    display: block;
    padding: .75rem .75rem;
    border-radius: 12px;
    text-decoration: none;
  }
}

/* 7) Forms basic (keeps your contact form sane) */
input[type="text"], input[type="email"], textarea{
  width: 100%;
  padding: .8rem 1rem;
  border-radius: 12px;
  background: var(--va-bg-elev);
  color: var(--va-text);
  border: 1px solid var(--va-border);
}
input:focus, textarea:focus{
  outline: 2px solid var(--va-primary-300);
  outline-offset: 2px;
}

/* 8) Media queries */
@media (max-width: 768px){
  .section{ padding: var(--va-12) 0; }
  .hero{ grid-template-columns: 1fr; padding: var(--va-12) 0 var(--va-10); }
  .btn{ width: 100%; }
}
@media (max-width: 480px){
  .container{ padding: 0 var(--va-3); }
  h1{ letter-spacing: 0; }
}

/* 9) Reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; }
}

/* 10) Safety: never lock scroll on mobile */
html, body{
  height: auto !important;
  min-height: 100% !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
}
main, section{
  min-height: auto !important;
  overflow: visible !important;
}

/* === HOTFIX: Header must be topmost & clickable (esp. index.html) ========= */

/* Make sure header wins all stacking contexts */
header.header {
  position: sticky !important;
  top: 0 !important;
  z-index: 99999 !important;
  isolation: isolate;            /* new stacking context for header */
  pointer-events: auto !important;
}

/* Ensure header contents receive taps */
header.header * {
  pointer-events: auto !important;
}

/* Push main content below header stacking-wise */
main, section, .hero, .content-section {
  position: relative;
  z-index: 0 !important;
}

/* If any hero overlays exist, they must not capture clicks */
.hero::before, .hero::after,
section::before, section::after {
  pointer-events: none !important;
}

/* Burger should always be tappable on mobile */
@media (max-width: 992px) {
  .burger {
    position: relative;
    z-index: 100000 !important;
  }
}

/* ================================
   Agentic Presence — Header Strip
   ================================ */

.agent-chips { min-width: 0; }

.agentic-strip{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:.6rem;
  flex-wrap:wrap;
}

.agentic-strip__left,
.agentic-strip__right{
  display:flex;
  align-items:center;
  gap:.45rem;
  flex-wrap:wrap;
  justify-content:flex-end;
}

.agentic-pill{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  padding:.22rem .55rem;
  border-radius:999px;
  border:1px solid rgba(36,50,85,.9);
  background: rgba(15,22,41,.95);
  color:#dbe7ff;
  font-size:.78rem;
  line-height:1.2;
  white-space:nowrap;
  max-width:100%;
}

.agentic-pill .dot{
  width:8px;
  height:8px;
  border-radius:999px;
  background: rgba(125,211,252,.95);
  flex:0 0 auto;
}

.agentic-pill.ok{ border-color: rgba(34,197,94,.45); }
.agentic-pill.ok .dot{ background: rgba(34,197,94,.95); }

.agentic-pill.warn{ border-color: rgba(245,158,11,.45); }
.agentic-pill.warn .dot{ background: rgba(245,158,11,.95); }

.agentic-pill.crit{ border-color: rgba(239,68,68,.45); }
.agentic-pill.crit .dot{ background: rgba(239,68,68,.95); }

.agentic-meta{
  font-size:.75rem;
  color: rgba(229,231,235,.7);
  padding:.18rem .2rem;
  white-space:nowrap;
}

.agent-chip{
  display:inline-flex;
  align-items:center;
  gap:.35rem;
  padding:.22rem .5rem;
  border-radius:999px;
  border:1px solid rgba(36,50,85,.9);
  background: rgba(11,18,32,.9);
  color:#dbe7ff;
  font-size:.76rem;
  line-height:1.2;
  max-width: 100%;
}

.agent-chip .dot{
  width:7px;
  height:7px;
  border-radius:999px;
  background: rgba(125,211,252,.95);
  flex:0 0 auto;
}

.agent-chip.ok{ border-color: rgba(34,197,94,.45); }
.agent-chip.ok .dot{ background: rgba(34,197,94,.95); }

.agent-chip.warn{ border-color: rgba(245,158,11,.45); }
.agent-chip.warn .dot{ background: rgba(245,158,11,.95); }

.agent-chip.crit{ border-color: rgba(239,68,68,.45); }
.agent-chip.crit .dot{ background: rgba(239,68,68,.95); }

.agent-chip__name{
  max-width: 16ch;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.agent-chip__state{
  color: rgba(229,231,235,.75);
  font-size:.72rem;
  letter-spacing:.06em;
  text-transform:uppercase;
}

/* Mobile: keep it readable */
@media (max-width: 720px){
  .agentic-strip{
    justify-content:flex-start;
  }
  .agentic-strip__left, .agentic-strip__right{
    justify-content:flex-start;
  }
}
/* =========================
   Header — agent chips (compact)
   Keep only the first chip to avoid clutter
   ========================= */
#agent-chips .chip:not(:first-child),
#agent-chips .agent-chip:not(:first-child),
#agent-chips .pill:not(:first-child) {
  display: none !important;
}

